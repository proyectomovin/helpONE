# Internationalization

The React client now ships with a lightweight internationalization layer. Dictionaries live in
`src/client/i18n/` and are plain JSON files keyed by locale (for example `en.json`, `es.json`).

## Key conventions

* Use dot-notation to express the hierarchy in the UI. For example navigation items live under the
  `nav` namespace (`nav.dashboard`, `nav.tickets`, etc.).
* Group component-specific strings under their own namespace (`language`, `topbar`, `tickets`, ...).
* Prefer descriptive keys over literal text. Keys should read like
  `topbar.createTicket` instead of `topbar.button1`.

## Adding a new language

1. Duplicate `src/client/i18n/en.json` and rename it with the new locale code, e.g. `fr.json`.
2. Translate each value while keeping the same key structure. Every dictionary must expose the same
   keys so components can look up strings predictably.
3. Import the new dictionary inside `src/client/i18n/index.js` and append it to the
   `SUPPORTED_LANGUAGES` map.
4. Update `language.options` inside every dictionary so the selector can display the new locale
   name.
5. Components use the `LanguageProvider` context plus the `useTranslation` hook (or `t()` helper)
   to read strings. No additional wiring is necessary once the dictionary is registered.

## Persisting the user preference

The current locale is stored in the `trudesk_locale` cookie. The `LanguageSelector` component (shown
in the top navigation bar) updates that cookie and the `LanguageProvider` automatically re-renders
any consumer. If a cookie is not set, the provider falls back to the user's profile, viewdata, or
browser locale.
